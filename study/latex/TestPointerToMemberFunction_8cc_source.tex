\hypertarget{TestPointerToMemberFunction_8cc_source}{}\doxysection{Test\+Pointer\+To\+Member\+Function.\+cc}
\label{TestPointerToMemberFunction_8cc_source}\index{tests/TestPointerToMemberFunction.cc@{tests/TestPointerToMemberFunction.cc}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{comment}{// testPointerToMemberFunction.cpp}}
\DoxyCodeLine{00002 \textcolor{comment}{//}}
\DoxyCodeLine{00003 \textcolor{comment}{// Testing pointers to member functions. This is }}
\DoxyCodeLine{00004 \textcolor{comment}{// documented in Stroustrup 3rd edition page 418}}
\DoxyCodeLine{00005 \textcolor{comment}{//}}
\DoxyCodeLine{00006 \textcolor{comment}{// (C) Datasim Education BV 2005}}
\DoxyCodeLine{00007 }
\DoxyCodeLine{00008 \textcolor{preprocessor}{\#include "../src/PayoffNew.cc"}}
\DoxyCodeLine{00009 \textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{00010 }
\DoxyCodeLine{\Hypertarget{TestPointerToMemberFunction_8cc_source_l00011}\mbox{\hyperlink{TestPointerToMemberFunction_8cc_aa1af2de2b5c8c70946008001993327ac}{00011}} \textcolor{keyword}{typedef} double (\mbox{\hyperlink{classPayoff}{Payoff}}::* \mbox{\hyperlink{TestPointerToMemberFunction_8cc_aa1af2de2b5c8c70946008001993327ac}{PMember}})(\textcolor{keywordtype}{double} value);}
\DoxyCodeLine{00012 }
\DoxyCodeLine{00013 \textcolor{keyword}{class }\mbox{\hyperlink{classOption}{Option}}}
\DoxyCodeLine{00014 \{}
\DoxyCodeLine{00015 \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{TestPointerToMemberFunction_8cc_source_l00016}\mbox{\hyperlink{classOption_ad8226d961c2a9531f956d70e0de78136}{00016}}     \mbox{\hyperlink{classPayoff}{Payoff}} \mbox{\hyperlink{classOption_ad8226d961c2a9531f956d70e0de78136}{pay}};}
\DoxyCodeLine{00017 \textcolor{comment}{//  typedef double (Payoff::* PMember)(double value);}}
\DoxyCodeLine{\Hypertarget{TestPointerToMemberFunction_8cc_source_l00018}\mbox{\hyperlink{classOption_aad4544d348ddee46df4181af45ff483c}{00018}}     \mbox{\hyperlink{TestPointerToMemberFunction_8cc_aa1af2de2b5c8c70946008001993327ac}{PMember}} \mbox{\hyperlink{classOption_aad4544d348ddee46df4181af45ff483c}{pm}};}
\DoxyCodeLine{00019 }
\DoxyCodeLine{00020     \textcolor{keywordtype}{double} \mbox{\hyperlink{classOption_a40db81993d02b319a38e62b42a730d6a}{K}};}
\DoxyCodeLine{00021     \textcolor{keywordtype}{double} \mbox{\hyperlink{classOption_ae583dd6d430a3b428014efa942605d54}{T}};}
\DoxyCodeLine{00022     \textcolor{comment}{// etc.}}
\DoxyCodeLine{00023 }
\DoxyCodeLine{\Hypertarget{TestPointerToMemberFunction_8cc_source_l00024}\mbox{\hyperlink{classOption_af517613005312013c576eb9099a50464}{00024}}     \mbox{\hyperlink{classOption_af517613005312013c576eb9099a50464}{Option}} ()}
\DoxyCodeLine{00025     \{}
\DoxyCodeLine{00026         \mbox{\hyperlink{classOption_a40db81993d02b319a38e62b42a730d6a}{K}} = 100;}
\DoxyCodeLine{00027         \mbox{\hyperlink{classOption_ae583dd6d430a3b428014efa942605d54}{T}} = 1.0;}
\DoxyCodeLine{00028 }
\DoxyCodeLine{00029         \textcolor{comment}{// Must define these later}}
\DoxyCodeLine{00030         \mbox{\hyperlink{classOption_ad8226d961c2a9531f956d70e0de78136}{pay}} = \mbox{\hyperlink{classPayoff}{Payoff}}(\mbox{\hyperlink{classOption_a40db81993d02b319a38e62b42a730d6a}{K}});}
\DoxyCodeLine{00031         }
\DoxyCodeLine{00032     \}}
\DoxyCodeLine{00033 }
\DoxyCodeLine{\Hypertarget{TestPointerToMemberFunction_8cc_source_l00034}\mbox{\hyperlink{classOption_a3199e9da7fac8b01639d8f980e80d5b2}{00034}}     \mbox{\hyperlink{classOption_a3199e9da7fac8b01639d8f980e80d5b2}{Option}} (\mbox{\hyperlink{TestPointerToMemberFunction_8cc_aa1af2de2b5c8c70946008001993327ac}{PMember}} func)}
\DoxyCodeLine{00035     \{}
\DoxyCodeLine{00036         \mbox{\hyperlink{classOption_a40db81993d02b319a38e62b42a730d6a}{K}} = 100;}
\DoxyCodeLine{00037         \mbox{\hyperlink{classOption_ae583dd6d430a3b428014efa942605d54}{T}} = 1.0;}
\DoxyCodeLine{00038 }
\DoxyCodeLine{00039         \mbox{\hyperlink{classOption_ad8226d961c2a9531f956d70e0de78136}{pay}} = \mbox{\hyperlink{classPayoff}{Payoff}}(\mbox{\hyperlink{classOption_a40db81993d02b319a38e62b42a730d6a}{K}});}
\DoxyCodeLine{00040         \mbox{\hyperlink{classOption_aad4544d348ddee46df4181af45ff483c}{pm}} = func;}
\DoxyCodeLine{00041     \}}
\DoxyCodeLine{00042 }
\DoxyCodeLine{\Hypertarget{TestPointerToMemberFunction_8cc_source_l00043}\mbox{\hyperlink{classOption_aaba569ca040bc712054be0af0fad964f}{00043}}     \textcolor{keywordtype}{double} \mbox{\hyperlink{classOption_aaba569ca040bc712054be0af0fad964f}{payoff}}(\textcolor{keywordtype}{double} S)}
\DoxyCodeLine{00044     \{}
\DoxyCodeLine{00045         \textcolor{keywordflow}{return} (\mbox{\hyperlink{classOption_ad8226d961c2a9531f956d70e0de78136}{pay}}.*\mbox{\hyperlink{classOption_aad4544d348ddee46df4181af45ff483c}{pm}})(S);}
\DoxyCodeLine{00046     \}}
\DoxyCodeLine{00047 \};}
\DoxyCodeLine{00048 }
\DoxyCodeLine{\Hypertarget{TestPointerToMemberFunction_8cc_source_l00049}\mbox{\hyperlink{TestPointerToMemberFunction_8cc_ae66f6b31b5ad750f1fe042a706a4e3d4}{00049}} \textcolor{keywordtype}{int} \mbox{\hyperlink{TestPointerToMemberFunction_8cc_ae66f6b31b5ad750f1fe042a706a4e3d4}{main}}()}
\DoxyCodeLine{00050 \{}
\DoxyCodeLine{00051     \mbox{\hyperlink{classOption}{Option}} myOption;}
\DoxyCodeLine{00052     \mbox{\hyperlink{classPayoff}{Payoff}} myPayoff(myOption.\mbox{\hyperlink{classOption_a40db81993d02b319a38e62b42a730d6a}{K}});}
\DoxyCodeLine{00053     \mbox{\hyperlink{TestPointerToMemberFunction_8cc_aa1af2de2b5c8c70946008001993327ac}{PMember}} \mbox{\hyperlink{TestComplexArray_8cc_a96d33e68896cca70b2aaff9893026216}{myFunc}} = \mbox{\hyperlink{classPayoff_a81ee255183b0babc5e6d9663196a83de}{Payoff::Call}};}
\DoxyCodeLine{00054     myOption.\mbox{\hyperlink{classOption_ad8226d961c2a9531f956d70e0de78136}{pay}} = myPayoff;}
\DoxyCodeLine{00055     myOption.\mbox{\hyperlink{classOption_aad4544d348ddee46df4181af45ff483c}{pm}} = \mbox{\hyperlink{TestComplexArray_8cc_a96d33e68896cca70b2aaff9893026216}{myFunc}};}
\DoxyCodeLine{00056 }
\DoxyCodeLine{00057     \textcolor{keywordtype}{double} d = myOption.\mbox{\hyperlink{classOption_a860218238db3dd970925771ebd27d53d}{payoff}}(23);}
\DoxyCodeLine{00058     }
\DoxyCodeLine{00059     std::cout << \textcolor{stringliteral}{"Call "} << d << std::endl;}
\DoxyCodeLine{00060 }
\DoxyCodeLine{00061     \mbox{\hyperlink{TestComplexArray_8cc_a96d33e68896cca70b2aaff9893026216}{myFunc}} = \mbox{\hyperlink{classPayoff_a5d0222f2d42995f5ab01820272761e21}{Payoff::Put}};}
\DoxyCodeLine{00062     myOption.\mbox{\hyperlink{classOption_aad4544d348ddee46df4181af45ff483c}{pm}} = \mbox{\hyperlink{TestComplexArray_8cc_a96d33e68896cca70b2aaff9893026216}{myFunc}};}
\DoxyCodeLine{00063     d = myOption.\mbox{\hyperlink{classOption_a860218238db3dd970925771ebd27d53d}{payoff}}(23);}
\DoxyCodeLine{00064 }
\DoxyCodeLine{00065     std::cout << \textcolor{stringliteral}{"Put "} << d << std::endl;}
\DoxyCodeLine{00066 }
\DoxyCodeLine{00067     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00068 \}}

\end{DoxyCode}
