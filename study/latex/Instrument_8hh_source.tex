\hypertarget{Instrument_8hh_source}{}\doxysection{Instrument.\+hh}
\label{Instrument_8hh_source}\index{include/duffy/Instrument.hh@{include/duffy/Instrument.hh}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{comment}{// Instrument.hpp}}
\DoxyCodeLine{00002 \textcolor{comment}{//}}
\DoxyCodeLine{00003 \textcolor{comment}{// Classes for instruments. One-\/factor model!!}}
\DoxyCodeLine{00004 \textcolor{comment}{//}}
\DoxyCodeLine{00005 \textcolor{comment}{// (C) Datasim Education BV 2006}}
\DoxyCodeLine{00006 \textcolor{comment}{//}}
\DoxyCodeLine{00007 }
\DoxyCodeLine{00008 \textcolor{preprocessor}{\#ifndef INSTRUMENT\_HH}}
\DoxyCodeLine{00009 \textcolor{preprocessor}{\#define INSTRUMENT\_HH}}
\DoxyCodeLine{00010 }
\DoxyCodeLine{00011 \textcolor{preprocessor}{\#include "OneFactorPayoff.hh"}}
\DoxyCodeLine{00012 \textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{00013 }
\DoxyCodeLine{\Hypertarget{Instrument_8hh_source_l00014}\mbox{\hyperlink{classInstrument}{00014}} \textcolor{keyword}{class }\mbox{\hyperlink{classInstrument}{Instrument}}}
\DoxyCodeLine{00015 \{}
\DoxyCodeLine{00016 \textcolor{keyword}{public}: \textcolor{comment}{// Abstract Base class for all derivatives}}
\DoxyCodeLine{00017 \};}
\DoxyCodeLine{00018 }
\DoxyCodeLine{\Hypertarget{Instrument_8hh_source_l00019}\mbox{\hyperlink{classOption}{00019}} \textcolor{keyword}{class }\mbox{\hyperlink{classOption}{Option}} : \textcolor{keyword}{public} \mbox{\hyperlink{classInstrument}{Instrument}}}
\DoxyCodeLine{00020 \{}
\DoxyCodeLine{00021 \textcolor{keyword}{public}:}
\DoxyCodeLine{00022     \textcolor{comment}{// PUBLIC, PURE FOR PEDAGOGICAL REASONS}}
\DoxyCodeLine{00023     \textcolor{keywordtype}{double} r;       \textcolor{comment}{// Interest rate}}
\DoxyCodeLine{00024     \textcolor{keywordtype}{double} sig;     \textcolor{comment}{// Volatility}}
\DoxyCodeLine{00025     \textcolor{keywordtype}{double} K;       \textcolor{comment}{// Strike price}}
\DoxyCodeLine{00026     \textcolor{keywordtype}{double} T;       \textcolor{comment}{// Expiry date}}
\DoxyCodeLine{00027     \textcolor{keywordtype}{double} b;       \textcolor{comment}{// Cost of carry    }}
\DoxyCodeLine{00028     \textcolor{keywordtype}{double} SMax;    \textcolor{comment}{// Far field condition}}
\DoxyCodeLine{00029     \textcolor{keywordtype}{char} type;      \textcolor{comment}{// Call or put}}
\DoxyCodeLine{00030 }
\DoxyCodeLine{00031     \mbox{\hyperlink{classOption}{Option}}() \{\}}
\DoxyCodeLine{00032 }
\DoxyCodeLine{00033     \textcolor{keywordtype}{void} print()}
\DoxyCodeLine{00034     \{}
\DoxyCodeLine{00035 }
\DoxyCodeLine{00036         std::cout << \textcolor{stringliteral}{"Interest: "} << r << std::endl;}
\DoxyCodeLine{00037         std::cout << \textcolor{stringliteral}{"Vol: "} << sig << std::endl;}
\DoxyCodeLine{00038         std::cout << \textcolor{stringliteral}{"Strike: "} << K << std::endl;}
\DoxyCodeLine{00039         std::cout << \textcolor{stringliteral}{"Expiry: "} << T << std::endl;}
\DoxyCodeLine{00040         std::cout << \textcolor{stringliteral}{"Cost of carry: "} << b << std::endl;}
\DoxyCodeLine{00041         std::cout << \textcolor{stringliteral}{"Option type: "} << type << std::endl;}
\DoxyCodeLine{00042         std::cout << \textcolor{stringliteral}{"Far field: "} << SMax << std::endl;}
\DoxyCodeLine{00043     \}}
\DoxyCodeLine{00044 }
\DoxyCodeLine{00045     \textcolor{comment}{// An option uses a polymorphic payoff object}}
\DoxyCodeLine{00046     \mbox{\hyperlink{classOneFactorPayoff}{OneFactorPayoff}} OptionPayoff;}
\DoxyCodeLine{00047 \};}
\DoxyCodeLine{00048 }
\DoxyCodeLine{\Hypertarget{Instrument_8hh_source_l00049}\mbox{\hyperlink{classInstrumentFactory}{00049}} \textcolor{keyword}{class }\mbox{\hyperlink{classInstrumentFactory}{InstrumentFactory}}}
\DoxyCodeLine{00050 \{}
\DoxyCodeLine{00051 \textcolor{keyword}{public}:}
\DoxyCodeLine{00052 }
\DoxyCodeLine{00053     \textcolor{keyword}{virtual} \mbox{\hyperlink{classOption}{Option}}* CreateOption() \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{00054 }
\DoxyCodeLine{00055 \};}
\DoxyCodeLine{00056 }
\DoxyCodeLine{\Hypertarget{Instrument_8hh_source_l00057}\mbox{\hyperlink{classConsoleInstrumentFactory}{00057}} \textcolor{keyword}{class }\mbox{\hyperlink{classConsoleInstrumentFactory}{ConsoleInstrumentFactory}} : \textcolor{keyword}{public} \mbox{\hyperlink{classInstrumentFactory}{InstrumentFactory}}}
\DoxyCodeLine{00058 \{}
\DoxyCodeLine{00059 \textcolor{keyword}{public}:}
\DoxyCodeLine{00060 }
\DoxyCodeLine{00061     \mbox{\hyperlink{classOption}{Option}}* CreateOption()\textcolor{keyword}{ const}}
\DoxyCodeLine{00062 \textcolor{keyword}{    }\{}
\DoxyCodeLine{00063         \textcolor{keywordtype}{double} dr;      \textcolor{comment}{// Interest rate}}
\DoxyCodeLine{00064         \textcolor{keywordtype}{double} dsig;    \textcolor{comment}{// Volatility}}
\DoxyCodeLine{00065         \textcolor{keywordtype}{double} dK;      \textcolor{comment}{// Strike price}}
\DoxyCodeLine{00066         \textcolor{keywordtype}{double} dT;      \textcolor{comment}{// Expiry date}}
\DoxyCodeLine{00067         \textcolor{keywordtype}{double} db;      \textcolor{comment}{// Cost of carry    }}
\DoxyCodeLine{00068         \textcolor{keywordtype}{double} dSMax;   \textcolor{comment}{// Far field boundary}}
\DoxyCodeLine{00069 }
\DoxyCodeLine{00070         std::cout << \textcolor{stringliteral}{"Interest rate: "};}
\DoxyCodeLine{00071         std::cin >> dr;}
\DoxyCodeLine{00072 }
\DoxyCodeLine{00073         std::cout << \textcolor{stringliteral}{"Volatility: "};}
\DoxyCodeLine{00074         std::cin >> dsig;}
\DoxyCodeLine{00075 }
\DoxyCodeLine{00076         std::cout << \textcolor{stringliteral}{"Strike Price: "};}
\DoxyCodeLine{00077         std::cin >> dK;}
\DoxyCodeLine{00078         dSMax = 4.0 * dK;       \textcolor{comment}{// Magix Number !!!!}}
\DoxyCodeLine{00079 }
\DoxyCodeLine{00080         std::cout << \textcolor{stringliteral}{"Expiry: "};}
\DoxyCodeLine{00081         std::cin >> dT;}
\DoxyCodeLine{00082 }
\DoxyCodeLine{00083         \textcolor{comment}{// Should ask what kind of option (as in Haug 1998)}}
\DoxyCodeLine{00084         std::cout << \textcolor{stringliteral}{"Cost of carry: "};}
\DoxyCodeLine{00085         std::cin >> db;}
\DoxyCodeLine{00086 }
\DoxyCodeLine{00087         \mbox{\hyperlink{classOption}{Option}}* result = \textcolor{keyword}{new} \mbox{\hyperlink{classOption}{Option}};}
\DoxyCodeLine{00088 }
\DoxyCodeLine{00089         std::cout << \textcolor{stringliteral}{"Payoff 1) Call, 2) Put: "};}
\DoxyCodeLine{00090         \textcolor{keywordtype}{int} ans;}
\DoxyCodeLine{00091         std::cin >> ans;}
\DoxyCodeLine{00092         \textcolor{keywordflow}{if} (ans == 1)}
\DoxyCodeLine{00093         \{}
\DoxyCodeLine{00094             result-\/> type = \textcolor{charliteral}{'C'};}
\DoxyCodeLine{00095             (*result).OptionPayoff = \mbox{\hyperlink{classOneFactorPayoff}{OneFactorPayoff}}(dK, MyCallPayoffFN);}
\DoxyCodeLine{00096         \}}
\DoxyCodeLine{00097         \textcolor{keywordflow}{else}}
\DoxyCodeLine{00098         \{}
\DoxyCodeLine{00099             result-\/> type = \textcolor{charliteral}{'P'};}
\DoxyCodeLine{00100             (*result).OptionPayoff = \mbox{\hyperlink{classOneFactorPayoff}{OneFactorPayoff}}(dK, MyPutPayoffFN);}
\DoxyCodeLine{00101         \}}
\DoxyCodeLine{00102 }
\DoxyCodeLine{00103         result-\/>r   = dr;}
\DoxyCodeLine{00104         result-\/>sig = dsig;}
\DoxyCodeLine{00105         result-\/>K   = dK;}
\DoxyCodeLine{00106         result-\/>T   = dT;}
\DoxyCodeLine{00107         result-\/>b   = db;}
\DoxyCodeLine{00108         result-\/>SMax = dSMax;}
\DoxyCodeLine{00109 }
\DoxyCodeLine{00110         \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{00111     \}}
\DoxyCodeLine{00112 \};}
\DoxyCodeLine{00113 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
