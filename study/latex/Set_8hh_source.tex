\hypertarget{Set_8hh_source}{}\doxysection{Set.\+hh}
\label{Set_8hh_source}\index{include/duffy/Set.hh@{include/duffy/Set.hh}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{comment}{// Set.hpp}}
\DoxyCodeLine{00002 \textcolor{comment}{//}}
\DoxyCodeLine{00003 \textcolor{comment}{// C++ template class that implements the concept of}}
\DoxyCodeLine{00004 \textcolor{comment}{// a mathematical set.}}
\DoxyCodeLine{00005 \textcolor{comment}{// This class is composed of an STL set and uses Information}}
\DoxyCodeLine{00006 \textcolor{comment}{// Hiding.}}
\DoxyCodeLine{00007 \textcolor{comment}{//}}
\DoxyCodeLine{00008 \textcolor{comment}{// (C) Datasim Education BV 2004-\/2006}}
\DoxyCodeLine{00009 }
\DoxyCodeLine{00010 \textcolor{preprocessor}{\#ifndef Set\_HH}}
\DoxyCodeLine{00011 \textcolor{preprocessor}{\#define Set\_HH}}
\DoxyCodeLine{00012 }
\DoxyCodeLine{00013 \textcolor{preprocessor}{\#include <set>}}
\DoxyCodeLine{00014 \textcolor{preprocessor}{\#include <list>}}
\DoxyCodeLine{00015 }
\DoxyCodeLine{\Hypertarget{Set_8hh_source_l00016}\mbox{\hyperlink{classSetThing}{00016}} \textcolor{keyword}{template} <\textcolor{keyword}{class} V> \textcolor{keyword}{class }\mbox{\hyperlink{classSetThing}{SetThing}} \{\};}
\DoxyCodeLine{00017 }
\DoxyCodeLine{\Hypertarget{Set_8hh_source_l00018}\mbox{\hyperlink{classSet}{00018}} \textcolor{keyword}{template} <\textcolor{keyword}{class} V> \textcolor{keyword}{class }\mbox{\hyperlink{classSet}{Set}} : \textcolor{keyword}{public} \mbox{\hyperlink{classSetThing}{SetThing}}<V>}
\DoxyCodeLine{00019 \{}
\DoxyCodeLine{00020 \textcolor{keyword}{private}:}
\DoxyCodeLine{00021         std::set<V> s;}
\DoxyCodeLine{00022 }
\DoxyCodeLine{00023 \textcolor{keyword}{public}:}
\DoxyCodeLine{00024         \textcolor{comment}{// Iterator functions; Navigating in a set}}
\DoxyCodeLine{00025         \textcolor{keyword}{typedef} \textcolor{keyword}{typename} std::set<V>::iterator iterator;}
\DoxyCodeLine{00026         \textcolor{keyword}{typedef} \textcolor{keyword}{typename} std::set<V>::const\_iterator const\_iterator;}
\DoxyCodeLine{00027 }
\DoxyCodeLine{00028 \textcolor{keyword}{public}:}
\DoxyCodeLine{00029         \textcolor{comment}{// Constructors}}
\DoxyCodeLine{00030         \mbox{\hyperlink{classSet}{Set}}();                       \textcolor{comment}{// Empty set}}
\DoxyCodeLine{00031         \mbox{\hyperlink{classSet}{Set}}(\textcolor{keyword}{const} std::set<V>\& stlSet);  \textcolor{comment}{// Create a Set from STL set}}
\DoxyCodeLine{00032         \mbox{\hyperlink{classSet}{Set}}(\textcolor{keyword}{const} \mbox{\hyperlink{classSet}{Set<V>}}\& s2);     \textcolor{comment}{// Copy constructor}}
\DoxyCodeLine{00033         \textcolor{comment}{// Construct a set from V that has STL-\/compatible iterators}}
\DoxyCodeLine{00034         \mbox{\hyperlink{classSet}{Set}}(\textcolor{keyword}{const} std::list<V>\& con);    \textcolor{comment}{// From anm STL list}}
\DoxyCodeLine{00035         \mbox{\hyperlink{classSet}{Set<V>}} operator = (\textcolor{keyword}{const} \mbox{\hyperlink{classSet}{Set<V>}}\& s2);}
\DoxyCodeLine{00036         \textcolor{keyword}{virtual} ~\mbox{\hyperlink{classSet}{Set}}();}
\DoxyCodeLine{00037 }
\DoxyCodeLine{00038         \textcolor{comment}{// Standard set operations from High School}}
\DoxyCodeLine{00039         \textcolor{keyword}{friend} \mbox{\hyperlink{classSet}{Set<V>}} Intersection(\textcolor{keyword}{const} \mbox{\hyperlink{classSet}{Set<V>}}\& s1, \textcolor{keyword}{const} \mbox{\hyperlink{classSet}{Set<V>}}\& s2)}
\DoxyCodeLine{00040         \{}
\DoxyCodeLine{00041             std::set<V> myintersect;}
\DoxyCodeLine{00042             \textcolor{keyword}{typename} std::set<V>::iterator i = myintersect.begin();}
\DoxyCodeLine{00043             std::insert\_iterator<std::set<V> > insertiter(myintersect, i);}
\DoxyCodeLine{00044             set\_intersection(s1.s.begin(), s1.s.end(), s2.s.begin(), s2.s.end(), insertiter);}
\DoxyCodeLine{00045 }
\DoxyCodeLine{00046             \textcolor{keywordflow}{return} \mbox{\hyperlink{classSet}{Set<V>}}(myintersect);}
\DoxyCodeLine{00047         \}}
\DoxyCodeLine{00048         \mbox{\hyperlink{classSet}{Set<V>}} operator \string^ (\textcolor{keyword}{const} \mbox{\hyperlink{classSet}{Set<V>}}\& s2)    \textcolor{comment}{// Intersection}}
\DoxyCodeLine{00049         \{}
\DoxyCodeLine{00050             \textcolor{keywordflow}{return} Intersection(*\textcolor{keyword}{this}, s2);}
\DoxyCodeLine{00051         \}}
\DoxyCodeLine{00052 }
\DoxyCodeLine{00053         \textcolor{keyword}{friend} \mbox{\hyperlink{classSet}{Set<V>}} Union(\textcolor{keyword}{const} \mbox{\hyperlink{classSet}{Set<V>}}\& s1, \textcolor{keyword}{const} \mbox{\hyperlink{classSet}{Set<V>}}\& s2)}
\DoxyCodeLine{00054         \{}
\DoxyCodeLine{00055             std::set<V> myunion;}
\DoxyCodeLine{00056             \textcolor{keyword}{typename} std::set<V>::iterator i = myunion.begin();}
\DoxyCodeLine{00057             std::insert\_iterator<std::set<V> > insertiter(myunion, i);}
\DoxyCodeLine{00058             set\_union(s1.s.begin(), s1.s.end(), s2.s.begin(), s2.s.end(), insertiter);}
\DoxyCodeLine{00059 }
\DoxyCodeLine{00060             \textcolor{keywordflow}{return} \mbox{\hyperlink{classSet}{Set<V>}}(myunion);}
\DoxyCodeLine{00061         \}}
\DoxyCodeLine{00062         \mbox{\hyperlink{classSet}{Set<V>}} operator + (\textcolor{keyword}{const} \mbox{\hyperlink{classSet}{Set<V>}}\& s2)    \textcolor{comment}{// Union}}
\DoxyCodeLine{00063         \{}
\DoxyCodeLine{00064             \textcolor{keywordflow}{return} Union(*\textcolor{keyword}{this}, s2);}
\DoxyCodeLine{00065         \}}
\DoxyCodeLine{00066 }
\DoxyCodeLine{00067         \textcolor{keyword}{friend} \mbox{\hyperlink{classSet}{Set<V>}} Difference(\textcolor{keyword}{const} \mbox{\hyperlink{classSet}{Set<V>}}\& s1, \textcolor{keyword}{const} \mbox{\hyperlink{classSet}{Set<V>}}\& s2)}
\DoxyCodeLine{00068         \{}
\DoxyCodeLine{00069             std::set<V> mydiff;}
\DoxyCodeLine{00070             \textcolor{keyword}{typename} std::set<V>::iterator i = mydiff.begin();}
\DoxyCodeLine{00071             std::insert\_iterator<std::set<V> > insertiter(mydiff, i);}
\DoxyCodeLine{00072             set\_difference(s1.s.begin(), s1.s.end(), s2.s.begin(), s2.s.end(), insertiter);}
\DoxyCodeLine{00073 }
\DoxyCodeLine{00074             \textcolor{keywordflow}{return} \mbox{\hyperlink{classSet}{Set<V>}}(mydiff);}
\DoxyCodeLine{00075         \}}
\DoxyCodeLine{00076         \mbox{\hyperlink{classSet}{Set<V>}} operator -\/ (\textcolor{keyword}{const} \mbox{\hyperlink{classSet}{Set<V>}}\& s2)    \textcolor{comment}{// Difference}}
\DoxyCodeLine{00077         \{}
\DoxyCodeLine{00078             \textcolor{keywordflow}{return} Difference(*\textcolor{keyword}{this}, s2);}
\DoxyCodeLine{00079         \}}
\DoxyCodeLine{00080 }
\DoxyCodeLine{00081         \textcolor{keyword}{friend} \mbox{\hyperlink{classSet}{Set<V>}} SymmetricDifference(\textcolor{keyword}{const} \mbox{\hyperlink{classSet}{Set<V>}}\& s1, \textcolor{keyword}{const} \mbox{\hyperlink{classSet}{Set<V>}}\& s2)}
\DoxyCodeLine{00082         \{}
\DoxyCodeLine{00083             std::set<V> mysdiff;}
\DoxyCodeLine{00084             \textcolor{keyword}{typename} std::set<V>::iterator i = mysdiff.begin();}
\DoxyCodeLine{00085             std::insert\_iterator<std::set<V> > insertiter(mysdiff, i);}
\DoxyCodeLine{00086             set\_symmetric\_difference(s1.s.begin(), s1.s.end(), s2.s.begin(), s2.s.end(), insertiter);}
\DoxyCodeLine{00087 }
\DoxyCodeLine{00088             \textcolor{keywordflow}{return} \mbox{\hyperlink{classSet}{Set<V>}}(mysdiff);}
\DoxyCodeLine{00089         \}}
\DoxyCodeLine{00090         \mbox{\hyperlink{classSet}{Set<V>}} operator \% (\textcolor{keyword}{const} \mbox{\hyperlink{classSet}{Set<V>}}\& s2)    \textcolor{comment}{// Symmetric Difference}}
\DoxyCodeLine{00091         \{}
\DoxyCodeLine{00092             \textcolor{keywordflow}{return} SymmetricDifference(*\textcolor{keyword}{this}, s2);}
\DoxyCodeLine{00093         \}}
\DoxyCodeLine{00094 }
\DoxyCodeLine{00095         \textcolor{keyword}{template} <\textcolor{keyword}{class} V2> }
\DoxyCodeLine{00096             \mbox{\hyperlink{classSet}{Set<std::pair<V, V2>}} > operator * (\textcolor{keyword}{const} \mbox{\hyperlink{classSet}{Set<V2>}}\& s2)}
\DoxyCodeLine{00097             \{ \textcolor{comment}{// Product Set(set of pairs)}}
\DoxyCodeLine{00098                     \textcolor{keywordflow}{return} CartesianProduct(s2);}
\DoxyCodeLine{00099             \}}
\DoxyCodeLine{00100 }
\DoxyCodeLine{00101         \textcolor{keyword}{template} <\textcolor{keyword}{class} V2> }
\DoxyCodeLine{00102             \mbox{\hyperlink{classSet}{Set<std::pair<V, V2>}} > CartesianProduct(\textcolor{keyword}{const} \mbox{\hyperlink{classSet}{Set<V2>}}\& s2)}
\DoxyCodeLine{00103         \{}
\DoxyCodeLine{00104 }
\DoxyCodeLine{00105                 \mbox{\hyperlink{classSet}{Set<std::pair<V, V2>}} > result;}
\DoxyCodeLine{00106 }
\DoxyCodeLine{00107                 \textcolor{comment}{// Iterate from begin to end of first set}}
\DoxyCodeLine{00108                 \textcolor{comment}{// At each level create a pair with second element from s2}}
\DoxyCodeLine{00109 }
\DoxyCodeLine{00110                 \textcolor{keyword}{typename} std::set<V>::const\_iterator iOuter;}
\DoxyCodeLine{00111                 \textcolor{keyword}{typename} std::set<V2>::const\_iterator iInner;}
\DoxyCodeLine{00112 }
\DoxyCodeLine{00113                 \textcolor{keywordflow}{for} (iOuter = (*this).s.begin(); iOuter != (*this).s.end(); iOuter++)}
\DoxyCodeLine{00114                 \{}
\DoxyCodeLine{00115                     \textcolor{keywordflow}{for} (iInner = s2.Begin(); iInner != s2.End(); iInner++)}
\DoxyCodeLine{00116                     \{}
\DoxyCodeLine{00117                         result.Insert(std::pair<V,V2>(*iOuter, *iInner));}
\DoxyCodeLine{00118                     \}}
\DoxyCodeLine{00119 }
\DoxyCodeLine{00120                 \}}
\DoxyCodeLine{00121 }
\DoxyCodeLine{00122                 \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{00123             \}}
\DoxyCodeLine{00124 }
\DoxyCodeLine{00125         iterator Begin();               \textcolor{comment}{// Return iterator at begin of set}}
\DoxyCodeLine{00126         const\_iterator Begin() \textcolor{keyword}{const};   \textcolor{comment}{// Return const iterator at begin of set}}
\DoxyCodeLine{00127         iterator End();                 \textcolor{comment}{// Return iterator after end of set}}
\DoxyCodeLine{00128         const\_iterator End() \textcolor{keyword}{const};     \textcolor{comment}{// Return const iterator after end of set}}
\DoxyCodeLine{00129 }
\DoxyCodeLine{00130         \textcolor{comment}{// Operations on a single set}}
\DoxyCodeLine{00131         \textcolor{keywordtype}{long} Size() \textcolor{keyword}{const};              \textcolor{comment}{// Number of elements   }}
\DoxyCodeLine{00132         \textcolor{keywordtype}{void} Insert(\textcolor{keyword}{const} V\& v);        \textcolor{comment}{// Insert an element}}
\DoxyCodeLine{00133         \textcolor{keywordtype}{void} Insert(\textcolor{keyword}{const} \mbox{\hyperlink{classSet}{Set<V>}}\& v); \textcolor{comment}{// Insert another set}}
\DoxyCodeLine{00134         \textcolor{keywordtype}{void} Remove(\textcolor{keyword}{const} V\& v);        \textcolor{comment}{// Remove an element}}
\DoxyCodeLine{00135         \textcolor{keywordtype}{void} Replace(\textcolor{keyword}{const} V\& Old, \textcolor{keyword}{const} V\& New);   \textcolor{comment}{// Replace old by new}}
\DoxyCodeLine{00136         \textcolor{keywordtype}{void} Clear();                   \textcolor{comment}{// Remove all elements}}
\DoxyCodeLine{00137         \textcolor{keywordtype}{bool} Contains(\textcolor{keyword}{const} V\& v) \textcolor{keyword}{const};            \textcolor{comment}{// Is v in set?}}
\DoxyCodeLine{00138         \textcolor{keywordtype}{bool} Empty() \textcolor{keyword}{const};             \textcolor{comment}{// Contains no elements}}
\DoxyCodeLine{00139 }
\DoxyCodeLine{00140         \textcolor{comment}{// Using 'clever' operators}}
\DoxyCodeLine{00141         \textcolor{keywordtype}{void} operator + (\textcolor{keyword}{const} V\& v);   \textcolor{comment}{// Insert an element}}
\DoxyCodeLine{00142         \textcolor{keywordtype}{void} operator -\/ (\textcolor{keyword}{const} V\& v);   \textcolor{comment}{// Remove an element}}
\DoxyCodeLine{00143 }
\DoxyCodeLine{00144         \textcolor{comment}{// Relations between sets (s1 == *this)}}
\DoxyCodeLine{00145         \textcolor{keywordtype}{bool} Subset(\textcolor{keyword}{const} \mbox{\hyperlink{classSet}{Set<V>}}\& s2) \textcolor{keyword}{const};  \textcolor{comment}{// s1 a subset of s2?}}
\DoxyCodeLine{00146         \textcolor{keywordtype}{bool} Superset(\textcolor{keyword}{const} \mbox{\hyperlink{classSet}{Set<V>}}\& s2) \textcolor{keyword}{const};    \textcolor{comment}{// s1 a superset of s2?}}
\DoxyCodeLine{00147         \textcolor{keywordtype}{bool} Intersects(\textcolor{keyword}{const} \mbox{\hyperlink{classSet}{Set<V>}}\& s2) \textcolor{keyword}{const};  \textcolor{comment}{// s1 and 22 have common elements?}}
\DoxyCodeLine{00148     }
\DoxyCodeLine{00149 }
\DoxyCodeLine{00150 \};}
\DoxyCodeLine{00151 \textcolor{preprocessor}{\#include "../../src/Set.cc"}}
\DoxyCodeLine{00152 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
