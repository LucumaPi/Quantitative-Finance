\hypertarget{DatesimDateTime_8hh_source}{}\doxysection{Datesim\+Date\+Time.\+hh}
\label{DatesimDateTime_8hh_source}\index{include/duffy/DatesimDateTime.hh@{include/duffy/DatesimDateTime.hh}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{comment}{// DateTime.hpp}}
\DoxyCodeLine{00002 \textcolor{comment}{//}}
\DoxyCodeLine{00003 \textcolor{comment}{// Class representing dates and times in one entity.}}
\DoxyCodeLine{00004 \textcolor{comment}{//}}
\DoxyCodeLine{00005 \textcolor{comment}{// (C) Datasim Education BV 2004}}
\DoxyCodeLine{00006 \textcolor{comment}{//}}
\DoxyCodeLine{00007 \textcolor{preprocessor}{\#ifndef DatasimDateTime\_HH}}
\DoxyCodeLine{00008 \textcolor{preprocessor}{\#define DatasimDateTime\_HH}}
\DoxyCodeLine{00009 }
\DoxyCodeLine{00010 \textcolor{preprocessor}{\#include <ctime>}}
\DoxyCodeLine{00011 \textcolor{preprocessor}{\#include "\mbox{\hyperlink{TemporalType_8hh}{TemporalType.hh}}"}}
\DoxyCodeLine{00012 }
\DoxyCodeLine{\Hypertarget{DatesimDateTime_8hh_source_l00013}\mbox{\hyperlink{DatesimDateTime_8hh_a3363ca4d6d3cc0230b2804280591c991}{00013}} \textcolor{preprocessor}{\#define OR ||}}
\DoxyCodeLine{\Hypertarget{DatesimDateTime_8hh_source_l00014}\mbox{\hyperlink{DatesimDateTime_8hh_acd1b97556dfbbac61063a63031d2f91d}{00014}} \textcolor{preprocessor}{\#define AND \&\&}}
\DoxyCodeLine{00015 }
\DoxyCodeLine{\Hypertarget{DatesimDateTime_8hh_source_l00016}\mbox{\hyperlink{DatesimDateTime_8hh_a44ddebc25af898d9561b53b0c3958acfa1dba9c4f76222c820c24445679a1be2b}{00016}} \textcolor{keyword}{enum} \mbox{\hyperlink{DatesimDateTime_8hh_a44ddebc25af898d9561b53b0c3958acf}{DatasimDateTime\_type}} \{\mbox{\hyperlink{DatesimDateTime_8hh_a44ddebc25af898d9561b53b0c3958acfa6647a8890a0d7aafc2ba20a8233f9a19}{HR12}}, \mbox{\hyperlink{DatesimDateTime_8hh_a44ddebc25af898d9561b53b0c3958acfa1dba9c4f76222c820c24445679a1be2b}{HR24}}\};}
\DoxyCodeLine{00017 }
\DoxyCodeLine{\Hypertarget{DatesimDateTime_8hh_source_l00018}\mbox{\hyperlink{DatesimDateTime_8hh_a3fe0acc26bd6a1dc8b4cb3b1d4bed7fe}{00018}} \textcolor{keyword}{typedef} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \mbox{\hyperlink{DatesimDateTime_8hh_a3fe0acc26bd6a1dc8b4cb3b1d4bed7fe}{secTy}};}
\DoxyCodeLine{00019 \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} day\_seconds = (24l * 60l * 60l);}
\DoxyCodeLine{\Hypertarget{DatesimDateTime_8hh_source_l00020}\mbox{\hyperlink{classDatasimDateTime}{00020}} \textcolor{keyword}{class }\mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}}: \textcolor{keyword}{public} \mbox{\hyperlink{classTemporalType}{TemporalType}}}
\DoxyCodeLine{00021 \{}
\DoxyCodeLine{00022  \textcolor{keyword}{private}:}
\DoxyCodeLine{00023     \mbox{\hyperlink{DatesimDateTime_8hh_a3fe0acc26bd6a1dc8b4cb3b1d4bed7fe}{secTy}} seconds;         \textcolor{comment}{// number of seconds from midnight}}
\DoxyCodeLine{00024 }
\DoxyCodeLine{00025     \mbox{\hyperlink{DatesimDateTime_8hh_a3fe0acc26bd6a1dc8b4cb3b1d4bed7fe}{secTy}} secs(\textcolor{keywordtype}{long} hours, \textcolor{keywordtype}{long} minutes, \textcolor{keywordtype}{long} seconds);    \textcolor{comment}{// calc \#seconds from midnight}}
\DoxyCodeLine{00026     \textcolor{keywordtype}{int} hour\_test(\textcolor{keywordtype}{int} hour);                            \textcolor{comment}{// test validity of hour}}
\DoxyCodeLine{00027     \textcolor{keywordtype}{int} min\_test(\textcolor{keywordtype}{int} minute);                           \textcolor{comment}{// test validity of minute}}
\DoxyCodeLine{00028     \textcolor{keywordtype}{int} sec\_test(\textcolor{keywordtype}{int} seconds);                          \textcolor{comment}{// test validity of seconds}}
\DoxyCodeLine{00029 }
\DoxyCodeLine{00030     \textcolor{keywordtype}{void} secs\_to\_DatasimDateTime(\textcolor{keywordtype}{int}\& h, \textcolor{keywordtype}{int}\& m, \textcolor{keywordtype}{int}\& s, \textcolor{keywordtype}{long}* over = 0);}
\DoxyCodeLine{00031                     \textcolor{comment}{// give time from seconds }}
\DoxyCodeLine{00032  }
\DoxyCodeLine{00033  \textcolor{keyword}{public}:}
\DoxyCodeLine{00034     \textcolor{comment}{// Constructors}}
\DoxyCodeLine{00035     \mbox{\hyperlink{classDatasimDateTime_a6bba814ffc42155f7ced0830a12106b9}{DatasimDateTime}}();           \textcolor{comment}{// default constructor=time today}}
\DoxyCodeLine{00036     \mbox{\hyperlink{classDatasimDateTime_a6bba814ffc42155f7ced0830a12106b9}{DatasimDateTime}}(\textcolor{keyword}{const} \mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}}\&);          \textcolor{comment}{// copy in initialization}}
\DoxyCodeLine{00037     \mbox{\hyperlink{classDatasimDateTime_a6bba814ffc42155f7ced0830a12106b9}{DatasimDateTime}}(\mbox{\hyperlink{DatesimDateTime_8hh_a3fe0acc26bd6a1dc8b4cb3b1d4bed7fe}{secTy}} secs, \textcolor{keywordtype}{long}* over = 0); \textcolor{comment}{// constr time from number of secs after midnight}}
\DoxyCodeLine{00038 }
\DoxyCodeLine{00039     \textcolor{keywordtype}{int} \mbox{\hyperlink{classDatasimDateTime_a03794573344da99abd33b6b16670219d}{ret\_hour}}();     \textcolor{comment}{// return hour of this DatasimDateTime}}
\DoxyCodeLine{00040     \textcolor{keywordtype}{int} \mbox{\hyperlink{classDatasimDateTime_a043cd9647f9062d18b652996578afdcf}{ret\_minute}}();     \textcolor{comment}{// return minute (0..59) of DatasimDateTime}}
\DoxyCodeLine{00041     \textcolor{keywordtype}{int} \mbox{\hyperlink{classDatasimDateTime_a1858e2b56f0bafbbf25ba63e15d7f07d}{ret\_second}}();     \textcolor{comment}{// return second (0..59) of DatasimDateTime}}
\DoxyCodeLine{00042  }
\DoxyCodeLine{00043 }
\DoxyCodeLine{00044     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classDatasimDateTime_a91df760056052bfce214e56b1b308d57}{operator==}}(\mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} DatasimDateTime\_2);    \textcolor{comment}{// return TRUE if on the same time}}
\DoxyCodeLine{00045     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classDatasimDateTime_a9f272d4518ba235c84e52da7ba52eddc}{operator!=}}(\mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} DatasimDateTime\_2);    \textcolor{comment}{// return TRUE if not on the same time}}
\DoxyCodeLine{00046     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classDatasimDateTime_a9610d34a0ce319bcefb932539b53f783}{operator>}}(\mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} DatasimDateTime\_2);  \textcolor{comment}{// time is later than time\_2}}
\DoxyCodeLine{00047     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classDatasimDateTime_a316134f75182feacfaece1efdbe859c6}{operator<}}(\mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} DatasimDateTime\_2);  \textcolor{comment}{// DatasimDateTime is earlier than DatasimDateTime\_2}}
\DoxyCodeLine{00048     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classDatasimDateTime_a05733ca22e20b17ee08e45dcf6c2093e}{operator>=}}(\mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} DatasimDateTime\_2);    \textcolor{comment}{// DatasimDateTime is later than DatasimDateTime\_2}}
\DoxyCodeLine{00049     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classDatasimDateTime_a95692ca557f9da8436e7f9765a1822ba}{operator<=}}(\mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} DatasimDateTime\_2);    \textcolor{comment}{// DatasimDateTime is earlier than DatasimDateTime\_2}}
\DoxyCodeLine{00050     \mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} \mbox{\hyperlink{classDatasimDateTime_a8d29a8a2e2d585bece6406362f0fcff0}{operator=}}(\mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} DatasimDateTime\_2); \textcolor{comment}{// copy}}
\DoxyCodeLine{00051     \mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} \mbox{\hyperlink{classDatasimDateTime_ae9b89102524f49387b466dc2fc9205e9}{operator+}}(\mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} DatasimDateTime\_2); \textcolor{comment}{// add two DatasimDateTimes}}
\DoxyCodeLine{00052     \mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} \mbox{\hyperlink{classDatasimDateTime_ae9b89102524f49387b466dc2fc9205e9}{operator+}}(\textcolor{keywordtype}{long} seconds);}
\DoxyCodeLine{00053     \mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} \mbox{\hyperlink{classDatasimDateTime_a83040c964ad4e6ccb54179a6eba89dba}{operator-\/}}(\mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} DatasimDateTime\_2);    \textcolor{comment}{// subtract DatasimDateTime\_2 from this DatasimDateTime}}
\DoxyCodeLine{00054     \mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} \mbox{\hyperlink{classDatasimDateTime_a83040c964ad4e6ccb54179a6eba89dba}{operator-\/}}(\textcolor{keywordtype}{long} seconds);    \textcolor{comment}{// subtract \#seconds from this DatasimDateTime}}
\DoxyCodeLine{00055     \mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} \mbox{\hyperlink{classDatasimDateTime_a364611b44f9fcf675788d08957c78dba}{operator++}}();      \textcolor{comment}{// add 1 second to DatasimDateTime}}
\DoxyCodeLine{00056     \mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} \mbox{\hyperlink{classDatasimDateTime_a99c7501167024faee62981340da0d116}{operator-\/-\/}}();      \textcolor{comment}{// subtract one second from DatasimDateTime}}
\DoxyCodeLine{00057     \mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} \mbox{\hyperlink{classDatasimDateTime_ab07a95787f88b6cf0dcade6695638de2}{operator+=}}(\mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} DatasimDateTime\_2);\textcolor{comment}{// add secs seconds to this DatasimDateTime}}
\DoxyCodeLine{00058     \mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} \mbox{\hyperlink{classDatasimDateTime_ab07a95787f88b6cf0dcade6695638de2}{operator+=}}(\textcolor{keywordtype}{long} secs); \textcolor{comment}{// add secs seconds to this DatasimDateTime}}
\DoxyCodeLine{00059     \mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} \mbox{\hyperlink{classDatasimDateTime_a44e30c8e8aa02eaeeb9c75c22ebb1fc2}{operator-\/=}}(\mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} DatasimDateTime\_2);\textcolor{comment}{// subtract seconds from this DatasimDateTime}}
\DoxyCodeLine{00060     \mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} \mbox{\hyperlink{classDatasimDateTime_a44e30c8e8aa02eaeeb9c75c22ebb1fc2}{operator-\/=}}(\textcolor{keywordtype}{long} secs); \textcolor{comment}{// subtract seconds from this DatasimDateTime}}
\DoxyCodeLine{00061     \mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} \mbox{\hyperlink{classDatasimDateTime_a5778524ddd106e457c5d70540d395eee}{add\_hours}}(\textcolor{keywordtype}{long} hours);  \textcolor{comment}{// return this DatasimDateTime + \#hours}}
\DoxyCodeLine{00062     \mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} \mbox{\hyperlink{classDatasimDateTime_a62014e665a05ebb1a3300acc4f57c4f2}{add\_minutes}}(\textcolor{keywordtype}{long} minutes);\textcolor{comment}{// return this DatasimDateTime + \#minutes}}
\DoxyCodeLine{00063     \mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} \mbox{\hyperlink{classDatasimDateTime_a97e61d7bb8be7df31096eaa240865ca0}{sub\_hours}}(\textcolor{keywordtype}{long} hours);  \textcolor{comment}{// return this DatasimDateTime -\/ \#hours}}
\DoxyCodeLine{00064     \mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} \mbox{\hyperlink{classDatasimDateTime_a60b8878b21a7d117dc7c4a225f7e0d41}{sub\_minutes}}(\textcolor{keywordtype}{long} minutes);\textcolor{comment}{// return this DatasimDateTime -\/ \#minutes}}
\DoxyCodeLine{00065     \mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} \mbox{\hyperlink{classDatasimDateTime_a9bc493467b0748b34f77439f3f8863d6}{add\_period}}(\mbox{\hyperlink{DatesimDateTime_8hh_a3fe0acc26bd6a1dc8b4cb3b1d4bed7fe}{secTy}} secs, \mbox{\hyperlink{DatesimDateTime_8hh_a3fe0acc26bd6a1dc8b4cb3b1d4bed7fe}{secTy}} mins = 0, \mbox{\hyperlink{DatesimDateTime_8hh_a3fe0acc26bd6a1dc8b4cb3b1d4bed7fe}{secTy}} hours = 0);}
\DoxyCodeLine{00066     \mbox{\hyperlink{classDatasimDateTime}{DatasimDateTime}} \mbox{\hyperlink{classDatasimDateTime_a0f537d8771a9ac4c0fec01897703c452}{sub\_period}}(\mbox{\hyperlink{DatesimDateTime_8hh_a3fe0acc26bd6a1dc8b4cb3b1d4bed7fe}{secTy}} secs, \mbox{\hyperlink{DatesimDateTime_8hh_a3fe0acc26bd6a1dc8b4cb3b1d4bed7fe}{secTy}} mins = 0, \mbox{\hyperlink{DatesimDateTime_8hh_a3fe0acc26bd6a1dc8b4cb3b1d4bed7fe}{secTy}} hours = 0);}
\DoxyCodeLine{00067     \textcolor{keywordtype}{void} \mbox{\hyperlink{classDatasimDateTime_ac0773e399f2fd8984fc7fcd322e28dae}{print}}() \textcolor{keyword}{const};            \textcolor{comment}{// print the time}}
\DoxyCodeLine{00068     \textcolor{keywordtype}{void} \mbox{\hyperlink{classDatasimDateTime_a9b6a86a41c4994e79fa02369df95589d}{secs\_to\_dtime}}(\textcolor{keywordtype}{int}\& h, \textcolor{keywordtype}{int}\& m, \textcolor{keywordtype}{int}\& s, \textcolor{keywordtype}{long}* over = 0) \textcolor{keyword}{const};}
\DoxyCodeLine{00069                     \textcolor{comment}{// give time from seconds }}
\DoxyCodeLine{00070 }
\DoxyCodeLine{00071 \};}
\DoxyCodeLine{00072 }
\DoxyCodeLine{00073 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* DatasimDateTime\_HH */}\textcolor{preprocessor}{}}

\end{DoxyCode}
