\hypertarget{GenericComposite_8cc_source}{}\doxysection{Generic\+Composite.\+cc}
\label{GenericComposite_8cc_source}\index{src/GenericComposite.cc@{src/GenericComposite.cc}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 \textcolor{comment}{// GenericComposite.hpp}}
\DoxyCodeLine{00002 \textcolor{comment}{//}}
\DoxyCodeLine{00003 \textcolor{comment}{// Simple Generic composite class using the STL list class.}}
\DoxyCodeLine{00004 \textcolor{comment}{// The composite stores Generic pointers. It does it's own memory management.}}
\DoxyCodeLine{00005 \textcolor{comment}{//}}
\DoxyCodeLine{00006 \textcolor{comment}{// 15 september 1998    RD  Started}}
\DoxyCodeLine{00007 \textcolor{comment}{// 2006-\/4-\/14 DD modified for creation of a generic composite}}
\DoxyCodeLine{00008 \textcolor{comment}{// 2006-\/4-\/27 DD remove an element from composite}}
\DoxyCodeLine{00009 \textcolor{comment}{//}}
\DoxyCodeLine{00010 \textcolor{comment}{// (C) Datasim Education BV}}
\DoxyCodeLine{00011 }
\DoxyCodeLine{00012 \textcolor{preprocessor}{\#ifndef GenericComposite\_CC}}
\DoxyCodeLine{\Hypertarget{GenericComposite_8cc_source_l00013}\mbox{\hyperlink{GenericComposite_8cc_a4e091cdcacae66b6081ffc08d5098e71}{00013}} \textcolor{preprocessor}{\#define GenericComposite\_CC}}
\DoxyCodeLine{00014 }
\DoxyCodeLine{00015 }
\DoxyCodeLine{00016 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{GenericComposite_8hh}{duffy/GenericComposite.hh}}>}}
\DoxyCodeLine{00017 }
\DoxyCodeLine{00018 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{00019 \textcolor{keywordtype}{void} \mbox{\hyperlink{classGenericComposite}{GenericComposite<T>::Copy}}(\textcolor{keyword}{const} \mbox{\hyperlink{classGenericComposite}{GenericComposite<T>}}\& source)}
\DoxyCodeLine{00020 \{ \textcolor{comment}{// Copy the source composite to this Generic composite}}
\DoxyCodeLine{00021 }
\DoxyCodeLine{00022     \textcolor{comment}{// Create STL list iterator}}
\DoxyCodeLine{00023     \textcolor{keyword}{typename} std::list<T*>::const\_iterator it;}
\DoxyCodeLine{00024 }
\DoxyCodeLine{00025     \textcolor{keywordflow}{for} (it=source.sl.begin(); it!=source.sl.end(); it++)}
\DoxyCodeLine{00026     \{ \textcolor{comment}{// Copy the whole list}}
\DoxyCodeLine{00027 }
\DoxyCodeLine{00028         \textcolor{comment}{// Add a copy of the Generic to our list}}
\DoxyCodeLine{00029         sl.push\_back((*it)-\/>Clone());}
\DoxyCodeLine{00030     \}}
\DoxyCodeLine{00031 \}}
\DoxyCodeLine{00032 }
\DoxyCodeLine{00033 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{\Hypertarget{GenericComposite_8cc_source_l00034}\mbox{\hyperlink{classGenericComposite_a922adde12be57cf459383f75ecdb3e5b}{00034}} \mbox{\hyperlink{classGenericComposite}{GenericComposite<T>::GenericComposite<T>}}(): \mbox{\hyperlink{namespaceNSEuropeanOption_a62a4ea4e8132239d531a9760dfe36b4d}{T}}()}
\DoxyCodeLine{00035 \{ \textcolor{comment}{// Default constructor}}
\DoxyCodeLine{00036 }
\DoxyCodeLine{00037     sl=std::list<T*>();}
\DoxyCodeLine{00038 \}}
\DoxyCodeLine{00039 }
\DoxyCodeLine{00040 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{00041 \mbox{\hyperlink{classGenericComposite_a922adde12be57cf459383f75ecdb3e5b}{GenericComposite<T>::GenericComposite}}(\textcolor{keyword}{const} \mbox{\hyperlink{classGenericComposite}{GenericComposite<T>}}\& source): \mbox{\hyperlink{namespaceNSEuropeanOption_a62a4ea4e8132239d531a9760dfe36b4d}{T}}(source)}
\DoxyCodeLine{00042 \{ \textcolor{comment}{// Copy constructor}}
\DoxyCodeLine{00043 }
\DoxyCodeLine{00044     sl=std::list<T*>();}
\DoxyCodeLine{00045     Copy(source);}
\DoxyCodeLine{00046 \}}
\DoxyCodeLine{00047 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{\Hypertarget{GenericComposite_8cc_source_l00048}\mbox{\hyperlink{classGenericComposite_af0bbd42fac7806031c5962ed1fbdf828}{00048}} \mbox{\hyperlink{classGenericComposite_af0bbd42fac7806031c5962ed1fbdf828}{GenericComposite<T>::~GenericComposite}}()}
\DoxyCodeLine{00049 \{ \textcolor{comment}{// Destructor}}
\DoxyCodeLine{00050 }
\DoxyCodeLine{00051     RemoveAll();}
\DoxyCodeLine{00052 \}}
\DoxyCodeLine{00053 }
\DoxyCodeLine{00054 \textcolor{comment}{// Iterator functions}}
\DoxyCodeLine{00055 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{\Hypertarget{GenericComposite_8cc_source_l00056}\mbox{\hyperlink{classGenericComposite_ac98912eb4aaca339cf023b30fa5c6cdf}{00056}} \textcolor{keyword}{typename} \mbox{\hyperlink{classGenericComposite}{GenericComposite<T>::iterator}} \mbox{\hyperlink{classGenericComposite_ac98912eb4aaca339cf023b30fa5c6cdf}{GenericComposite<T>::Begin}}()}
\DoxyCodeLine{00057 \{ \textcolor{comment}{// Return iterator at begin of composite}}
\DoxyCodeLine{00058 }
\DoxyCodeLine{00059     \textcolor{keywordflow}{return} sl.begin();}
\DoxyCodeLine{00060 \}}
\DoxyCodeLine{00061 }
\DoxyCodeLine{00062 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{\Hypertarget{GenericComposite_8cc_source_l00063}\mbox{\hyperlink{classGenericComposite_a858f6f32793e50e22386507ca914553c}{00063}} \textcolor{keyword}{typename} \mbox{\hyperlink{classGenericComposite}{GenericComposite<T>::const\_iterator}} \mbox{\hyperlink{classGenericComposite_ac98912eb4aaca339cf023b30fa5c6cdf}{GenericComposite<T>::Begin}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{00064 \textcolor{keyword}{}\{ \textcolor{comment}{// Return const iterator at begin of composite}}
\DoxyCodeLine{00065 }
\DoxyCodeLine{00066     \textcolor{keywordflow}{return} sl.begin();}
\DoxyCodeLine{00067 \}}
\DoxyCodeLine{00068 }
\DoxyCodeLine{00069 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{\Hypertarget{GenericComposite_8cc_source_l00070}\mbox{\hyperlink{classGenericComposite_afaad3512b4bba5b4e4a691ec44ed7857}{00070}} \textcolor{keyword}{typename} \mbox{\hyperlink{classGenericComposite}{GenericComposite<T>::iterator}} \mbox{\hyperlink{classGenericComposite_afaad3512b4bba5b4e4a691ec44ed7857}{GenericComposite<T>::End}}()}
\DoxyCodeLine{00071 \{ \textcolor{comment}{// Return iterator after end of composite}}
\DoxyCodeLine{00072 }
\DoxyCodeLine{00073     \textcolor{keywordflow}{return} sl.end();}
\DoxyCodeLine{00074 \}}
\DoxyCodeLine{00075 }
\DoxyCodeLine{00076 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{\Hypertarget{GenericComposite_8cc_source_l00077}\mbox{\hyperlink{classGenericComposite_a2ec6c19ee4e29139ff1e366f876f3358}{00077}} \textcolor{keyword}{typename} \mbox{\hyperlink{classGenericComposite}{GenericComposite<T>::const\_iterator}} \mbox{\hyperlink{classGenericComposite_afaad3512b4bba5b4e4a691ec44ed7857}{GenericComposite<T>::End}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{00078 \textcolor{keyword}{}\{ \textcolor{comment}{// Return const iterator after end of composite}}
\DoxyCodeLine{00079 }
\DoxyCodeLine{00080     \textcolor{keywordflow}{return} sl.end();}
\DoxyCodeLine{00081 \}}
\DoxyCodeLine{00082 }
\DoxyCodeLine{00083 \textcolor{comment}{// Selectors}}
\DoxyCodeLine{00084 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{\Hypertarget{GenericComposite_8cc_source_l00085}\mbox{\hyperlink{classGenericComposite_a0ffc53805f90516d303a8caa69f09d5b}{00085}} \textcolor{keywordtype}{int} \mbox{\hyperlink{classGenericComposite_a0ffc53805f90516d303a8caa69f09d5b}{GenericComposite<T>::Count}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{00086 \textcolor{keyword}{}\{ \textcolor{comment}{// Return the number of Generics in the composite}}
\DoxyCodeLine{00087 }
\DoxyCodeLine{00088     \textcolor{keywordflow}{return} sl.size();}
\DoxyCodeLine{00089 \}}
\DoxyCodeLine{00090 }
\DoxyCodeLine{00091 \textcolor{comment}{// Add functions}}
\DoxyCodeLine{00092 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{\Hypertarget{GenericComposite_8cc_source_l00093}\mbox{\hyperlink{classGenericComposite_a6fce8da197eeb5543ccf2ab7a914d414}{00093}} \textcolor{keywordtype}{void} \mbox{\hyperlink{classGenericComposite_a6fce8da197eeb5543ccf2ab7a914d414}{GenericComposite<T>::AddFront}}(\mbox{\hyperlink{namespaceNSEuropeanOption_a62a4ea4e8132239d531a9760dfe36b4d}{T}}\& s)}
\DoxyCodeLine{00094 \{ \textcolor{comment}{// Add Generic at the beginning of Genericlist. No copy is made.}}
\DoxyCodeLine{00095 }
\DoxyCodeLine{00096     sl.push\_front(\&s);}
\DoxyCodeLine{00097 \}}
\DoxyCodeLine{00098 }
\DoxyCodeLine{00099 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{\Hypertarget{GenericComposite_8cc_source_l00100}\mbox{\hyperlink{classGenericComposite_a60c8ad8f14bb1977d6a7dd6e739a9ed3}{00100}} \textcolor{keywordtype}{void} \mbox{\hyperlink{classGenericComposite_a60c8ad8f14bb1977d6a7dd6e739a9ed3}{GenericComposite<T>::AddBack}}(\mbox{\hyperlink{namespaceNSEuropeanOption_a62a4ea4e8132239d531a9760dfe36b4d}{T}}\& s)}
\DoxyCodeLine{00101 \{ \textcolor{comment}{// Add Generic at the end of Genericlist. No copy is made.}}
\DoxyCodeLine{00102 }
\DoxyCodeLine{00103     sl.push\_back(\&s);}
\DoxyCodeLine{00104 \}}
\DoxyCodeLine{00105 }
\DoxyCodeLine{00106 \textcolor{comment}{// Remove functions}}
\DoxyCodeLine{00107 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{\Hypertarget{GenericComposite_8cc_source_l00108}\mbox{\hyperlink{classGenericComposite_a04c208f2363ead79d638fd590d7ebf24}{00108}} \textcolor{keywordtype}{void} \mbox{\hyperlink{classGenericComposite_a04c208f2363ead79d638fd590d7ebf24}{GenericComposite<T>::RemoveLast}}()}
\DoxyCodeLine{00109 \{ \textcolor{comment}{// Remove last Generic}}
\DoxyCodeLine{00110 }
\DoxyCodeLine{00111     \textcolor{keyword}{delete} sl.back();       \textcolor{comment}{// Delete the Generic}}
\DoxyCodeLine{00112     sl.pop\_back();          \textcolor{comment}{// Remove Generic pointer from list}}
\DoxyCodeLine{00113 \}}
\DoxyCodeLine{00114 }
\DoxyCodeLine{00115 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{\Hypertarget{GenericComposite_8cc_source_l00116}\mbox{\hyperlink{classGenericComposite_ae292eef10daa2a454897b3d166298317}{00116}} \textcolor{keywordtype}{void} \mbox{\hyperlink{classGenericComposite_ae292eef10daa2a454897b3d166298317}{GenericComposite<T>::RemoveFirst}}()}
\DoxyCodeLine{00117 \{ \textcolor{comment}{// Remove first Generic}}
\DoxyCodeLine{00118 }
\DoxyCodeLine{00119     \textcolor{keyword}{delete} sl.front();      \textcolor{comment}{// Delete the Generic}}
\DoxyCodeLine{00120     sl.pop\_front();         \textcolor{comment}{// Remove Generic pointer from list}}
\DoxyCodeLine{00121 \}}
\DoxyCodeLine{00122 }
\DoxyCodeLine{00123 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{00124     \textcolor{keywordtype}{void} \mbox{\hyperlink{classGenericComposite}{GenericComposite<T>::Remove}}(\mbox{\hyperlink{namespaceNSEuropeanOption_a62a4ea4e8132239d531a9760dfe36b4d}{T}}\& t)}
\DoxyCodeLine{00125 \{ \textcolor{comment}{// Remove pointer that is address of t}}
\DoxyCodeLine{00126 }
\DoxyCodeLine{00127     \textcolor{comment}{// Locate the pointer to t in the list}}
\DoxyCodeLine{00128     std::list<T*>::iterator it = find(sl.begin(), sl.end(), \&t);}
\DoxyCodeLine{00129     }
\DoxyCodeLine{00130     \textcolor{keywordflow}{if} (it != sl.end())}
\DoxyCodeLine{00131     \{}
\DoxyCodeLine{00132         erase(it);}
\DoxyCodeLine{00133     \}}
\DoxyCodeLine{00134     }
\DoxyCodeLine{00135 \}}
\DoxyCodeLine{00136 }
\DoxyCodeLine{00137 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{\Hypertarget{GenericComposite_8cc_source_l00138}\mbox{\hyperlink{classGenericComposite_adbefe400c6e574f2f3a7b4b02b8fee8e}{00138}} \textcolor{keywordtype}{void} \mbox{\hyperlink{classGenericComposite_adbefe400c6e574f2f3a7b4b02b8fee8e}{GenericComposite<T>::RemoveAll}}()}
\DoxyCodeLine{00139 \{ \textcolor{comment}{// Remove all Generics from the list}}
\DoxyCodeLine{00140 }
\DoxyCodeLine{00141     \textcolor{comment}{// Create STL list iterator}}
\DoxyCodeLine{00142     \textcolor{keyword}{typename} std::list<T*>::iterator it;}
\DoxyCodeLine{00143 }
\DoxyCodeLine{00144     \textcolor{keywordflow}{for} (it=sl.begin(); it!=sl.end(); it++)}
\DoxyCodeLine{00145     \{ \textcolor{comment}{// Delete every Generic in the list}}
\DoxyCodeLine{00146 }
\DoxyCodeLine{00147         \textcolor{keyword}{delete} (*it);   \textcolor{comment}{// Delete Generic}}
\DoxyCodeLine{00148     \}}
\DoxyCodeLine{00149 }
\DoxyCodeLine{00150     \textcolor{comment}{// Remove the Generic pointers from the list}}
\DoxyCodeLine{00151     sl.clear();}
\DoxyCodeLine{00152 \}}
\DoxyCodeLine{00153 }
\DoxyCodeLine{00154 \textcolor{comment}{// Operators}}
\DoxyCodeLine{00155 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{00156 \textcolor{comment}{// Operators}}
\DoxyCodeLine{\Hypertarget{GenericComposite_8cc_source_l00157}\mbox{\hyperlink{classGenericComposite_a949dfd2be8e03c7d01118958cf4891c0}{00157}} \mbox{\hyperlink{classGenericComposite}{GenericComposite<T>}}\& \mbox{\hyperlink{classGenericComposite_a949dfd2be8e03c7d01118958cf4891c0}{GenericComposite<T>::operator = }}(\textcolor{keyword}{const} \mbox{\hyperlink{classGenericComposite}{GenericComposite<T>}}\& source)}
\DoxyCodeLine{00158 \{ \textcolor{comment}{// Assignment}}
\DoxyCodeLine{00159 }
\DoxyCodeLine{00160     \textcolor{comment}{// Exit if same object}}
\DoxyCodeLine{00161     \textcolor{keywordflow}{if} (\textcolor{keyword}{this}==\&source) \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00162 }
\DoxyCodeLine{00163     \textcolor{comment}{// First clear our list}}
\DoxyCodeLine{00164     RemoveAll();}
\DoxyCodeLine{00165 }
\DoxyCodeLine{00166     \textcolor{comment}{// Base class assignment}}
\DoxyCodeLine{00167     Generic::operator = (source);}
\DoxyCodeLine{00168 }
\DoxyCodeLine{00169     \textcolor{comment}{// Copy other list}}
\DoxyCodeLine{00170     Copy(source);}
\DoxyCodeLine{00171 }
\DoxyCodeLine{00172     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00173 \}}
\DoxyCodeLine{00174 }
\DoxyCodeLine{00175 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
